<head><link rel="stylesheet" href="@sweetalert2/themes/dark/dark.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"></head>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
 <main style="box-sizing: border-box;fill: none;">
    <div>
 <form style="padding: 50px;border: 10px;border-color: black;box-sizing: border-box;box-shadow: inset;" id="editAddress">
    <span id="error" class="text-danger"></span>
    <div class="row">
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputEmail4">First Name*</label>
        <input
          type="text"
          class="form-control"
          name="firstname"
          value="<%=editData.firstname%>"
          id="firstName"
          required
        />     
      </div>
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputEmail4">Last Name*</label>
        <input
          type="text"
          class="form-control"
          name="lastname"
          value="<%=editData.lastname%>"
          id="lastName"
          required
        />
       
      </div>
    </div>
    <div class="row">
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputEmail">Email Address*</label>
        <input
          type="text"
          class="form-control"
          name="email"
          value="<%=editData.email%>"
          id="email"
          required
        />
        <span id="editemail" class="text-danger"></span>
      </div>
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputPhone">Phone*</label>
        <input
          type="text"
          class="form-control"
          name="mobile"
          value="<%=editData.mobile%>"
          id="phoneNumber"
          required
        />
       
      </div>
    </div>
    <div class="row">
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputStreetAddress"
          >Street Address*</label
        >
        <input
          type="text"
          class="form-control"
          name="streetaddress"
          value="<%=editData.streetaddress%>"
         id="streetAddress"
          required
        />
      </div>
      <div class="mb-3 col-md-6">
        <label class="form-label" for="inputAppartment">Appartment*</label>
        <input
          type="text"
          class="form-control"
          name="appartment"
          value="<%=editData.appartment%>"
         id="appartment"
          required
        />
      </div>
     
    </div>
    <div class="row">
      <div class="mb-3 col-md-4">
        <label class="form-label" for="inputCity">Town / City*</label>
        <input
          type="text"
          class="form-control"
          name="town"
          value="<%=editData.town%>"
         id="town"
          required
        />
      </div>
      <div class="mb-3 col-md-4">
        <label class="form-label" for="inputState">State*</label>
        <input
          type="text"
          class="form-control"
          name="state"
          value="<%=editData.state%>"
          id="state"
          required
        />
      </div>
      <input type="text" value="<%=editData._id%>" name="addressId" hidden>
      <div class="mb-3 col-md-4">
        <label class="form-label" for="inputZip">Zip*</label>
        <input
          type="text"
          class="form-control"
          name="zip"
          value="<%=editData.zip%>"
          id="zip"
          required
        />
      </div>
    </div>
        <button type="submit" class="btn btn-primary bg-info border-0" id="saveAddress" ><i class="bi bi-save"></i> Save Changes</button> 
  </form>
</div>
</main>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
<script src="sweetalert2/dist/sweetalert2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  $('#editAddress').submit((e)=>{
    e.preventDefault();
    $.ajax({
    url: '/editaddress',
    type: 'patch',
    data:$('#editAddress').serialize(),
    success: function(response) {
     if(response.status){
      Swal.fire({
        position: 'center',
        icon: 'success',
        title: 'successfully edited address',
        showConfirmButton: false,
        timer: 1500
        }).then(()=>{
          location.href='/userprofile'
        })}
    },
    error: function(error) {
    }
  });



  })
</script>

